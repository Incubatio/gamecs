// Generated by CoffeeScript 1.4.0
(function() {

  importScripts('assets/js/require.js');

  importScripts('assets/js/gamecs.min.js');

  requirejs.config({
    baseUrl: '/gamecs/build/lib/'
  });

  require(['rect'], function(Rect) {
    self.onmessage = function(event) {
      var doContinue, foundPrime, i, n, primes, sqrtn, x, _i, _results;
      if (event.data.todo === 'nextprimes') {
        foundPrime = false;
        n = event.data.start;
        primes = [];
        x = 10000;
        doContinue = false;
        _results = [];
        while (primes.length < 5) {
          n++;
          doContinue = false;
          sqrtn = Math.sqrt(n);
          for (i = _i = 2; 2 <= sqrtn ? _i <= sqrtn : _i >= sqrtn; i = 2 <= sqrtn ? ++_i : --_i) {
            if (n % i === 0) {
              doContinue = true;
              break;
            }
          }
          if (!doContinue && x-- < 0) {
            primes.push(n);
            x = 10000;
            _results.push(self.postMessage(n));
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      }
    };
    return self.postMessage(true);
  });

}).call(this);
