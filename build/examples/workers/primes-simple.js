// Generated by CoffeeScript 1.4.0
(function() {

  self.onmessage = function(event) {
    var doContinue, i, n, primes, sqrtn, x, _i, _results;
    if (event.data.todo === 'nextprimes') {
      n = event.data.start;
      primes = [];
      x = 10000;
      doContinue = false;
      _results = [];
      while (primes.length < 5) {
        n++;
        doContinue = false;
        sqrtn = Math.sqrt(n);
        for (i = _i = 2; 2 <= sqrtn ? _i <= sqrtn : _i >= sqrtn; i = 2 <= sqrtn ? ++_i : --_i) {
          if (n % i === 0) {
            doContinue = true;
            break;
          }
        }
        if (!doContinue && x-- < 0) {
          primes.push(n);
          x = 10000;
          _results.push(self.postMessage(n));
        } else {
          _results.push(void 0);
        }
      }
      return _results;
    }
  };

  /*
  self.onmessage = (event) ->
    if (event.data.todo == 'nextprimes')
      foundPrime = false
      n = event.data.start
      primes = []
      x = 10000
      search = () ->
        n++
        sqrtn = Math.sqrt(n)
        for i in [2..sqrtn]
          return if (n % i == 0)
            
        if (x-- < 0)
          primes.push(n)
          self.postMessage(n)
          x = 10000
  
      while(primes.length < 5)
        search()
  */


}).call(this);
